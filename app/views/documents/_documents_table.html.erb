<ul class='clearfix table-add-list'>
  <li style='float: right; margin: 0 30px 0 0;'>
    <a href="<%= new_room_document_path(resource) %>"
      data-remote='true' class='btn btn-primary' style='margin: 20px 0;'
      data-toggle="tooltip" data-placement="top"
      title='新しくファイルを作成します'>
      + <i class='glyphicon glyphicon-copy' style='font-size: 18px;'></i>
    </a>
  </li>
</ul>

<div id='document-modal' class='modal fade' tabindex='-1' role='dialog' aria-hidden='true'></div>

<div class='table-responsive'>
  <table class='table table-striped table-bordered table-hover'>
    <thead>
      <tr>
        <th class='text-center'>ファイル名</th>
        <th class='text-center'>備考</th>
        <th class='text-center' style='width: 60px;'>編集</th>
        <th class='text-center' style='width: 60px;'>削除</th>
      </tr>
    </thead>

    <% documents.each do |document| %>
      <tbody>
        <tr>
          <td>
            <%= document.file_name %>
          </td>

          <td>
            <%= document.description %>
          </td>

          <td class='text-center'>
            <% if edit_permission_exist?(document) %>
              <a href="<%= edit_room_document_path(resource, document) %>"
                data-remote='true'
                data-toggle="tooltip" data-placement="top"
                title='編集するにはクリックしてください'>
                <i style='font-size: 18px;' class='glyphicon glyphicon-edit'></i>
              </a>
            <% end %>
          </td>

          <td class='text-center'>
            <% if edit_permission_exist?(document) %>
              <%= link_to [resource, document], method: :delete, data: { confirm: 'Are you sure?' } do %>
                <i style='font-size: 18px; color: #EC5800;' class='glyphicon glyphicon-trash'></i>
              <% end %>
            <% end %>
          </td>
        </tr>
      </tbody>
    <% end %>
  </table>
</div>

<script>
  $(function () {
    var ua = navigator.userAgent;
    if (ua.indexOf('iPhone') > 0  ||
        ua.indexOf('Android') > 0 && ua.indexOf('Mobile') > 0 ||
        (ua.indexOf('iPad') > 0   || ua.indexOf('Android') > 0)) {
      $('[data-toggle="tooltip"]').tooltip('hide')
    } else {
      $('[data-toggle="tooltip"]').tooltip()
    }
  })
</script>
